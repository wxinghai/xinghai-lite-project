<template>
	<view class="container">
		<!-- é¡µé¢å¤´éƒ¨ -->
		<view class="header">
			<view class="header-left">
				<text class="timer">00:00</text>
				<view class="training-name">
					<text class="training-title">{{ trainingData.title }}</text>
					<text class="training-name-edit" @click="editTrainingName">âœï¸</text>
				</view>
			</view>
			
			<view class="header-right">
				<view class="action-button" @click="completeTraining">
					<text class="action-button-text">å®Œæˆ</text>
				</view>
				<view class="stats">
					<text class="stats-text"><text class="stats-highlight">{{ completedSets }}</text>/<text class="stats-highlight">{{ totalSets }}</text> ç»„</text>
					<text class="stats-text"><text class="stats-highlight">{{ totalVolume }}</text> kg å®¹é‡</text>
				</view>
			</view>
		</view>
		
		<!-- è¿åŠ¨åˆ—è¡¨ -->
		<list class="exercise-list" show-scrollbar="false">
			<cell v-for="(exercise, exerciseIndex) in trainingData.exercises" :key="exercise.id">
				<view class="exercise-card" :class="{ 'collapsed': exercise.collapsed }">
					<!-- è¿åŠ¨æ ‡é¢˜æ  -->
					<view class="exercise-header" @click="toggleExerciseCollapse(exerciseIndex)">
						<view class="exercise-name-wrapper">
							<text class="exercise-name">{{ exercise.name }}</text>
							
							<!-- æŠ˜å çŠ¶æ€ä¸‹æ˜¾ç¤ºè¿›åº¦ -->
							<view class="exercise-progress" v-if="exercise.collapsed">
								<text class="exercise-sets-count">{{ exercise.sets.length }}ç»„</text>
								<view class="exercise-dots">
									<view 
										v-for="(set, dotIndex) in exercise.sets" 
										:key="'dot-'+dotIndex" 
										class="dot"
										:class="{ 'completed': set.completed }"
									></view>
								</view>
							</view>
						</view>
						
						<view class="exercise-actions">
							<view class="icon-button" @click.stop="showExerciseNotes(exerciseIndex)">
								<text class="icon">ğŸ“</text>
							</view>
							<view class="icon-button" @click.stop="showExerciseMenu(exerciseIndex)">
								<text class="icon">â‹¯</text>
							</view>
						</view>
					</view>
					
					<!-- è¿åŠ¨è¯¦æƒ…å†…å®¹ -->
					<view class="collapsible-content">
						<!-- ç»„æ•°åˆ—è¡¨ -->
						<view class="set-list">
							<view class="set-list-header">
								<text class="set-list-title">ç»„æ•°ä¿¡æ¯</text>
								<view class="unit-toggle">
									<view 
										class="unit-toggle-btn" 
										:class="{ 'active': exercise.weightUnit === 'kg' }"
										@click="changeWeightUnit(exerciseIndex, 'kg')"
									>
										<text class="unit-text" :class="{ 'active-text': exercise.weightUnit === 'kg' }">KG</text>
									</view>
									<view 
										class="unit-toggle-btn"
										:class="{ 'active': exercise.weightUnit === 'lbs' }"
										@click="changeWeightUnit(exerciseIndex, 'lbs')"
									>
										<text class="unit-text" :class="{ 'active-text': exercise.weightUnit === 'lbs' }">LBS</text>
									</view>
								</view>
							</view>
							
							<!-- ç»„æ•°è¡¨å¤´ -->
							<view class="set-row set-header">
								<text class="set-header-text set-number-col">ç»„æ•°</text>
								<text class="set-header-text set-weight-col">
									é‡é‡({{ exercise.weightUnit }})
								</text>
								<text class="set-header-text set-reps-col">æ¬¡æ•°</text>
								<text class="set-header-text set-complete-col">å®Œæˆ</text>
								<text class="set-header-text set-actions-col"></text>
							</view>
							
							<!-- ç»„æ•°åˆ—è¡¨ -->
							<view 
								class="set-row" 
								v-for="(set, setIndex) in exercise.sets"
								:key="'set-'+exerciseIndex+'-'+setIndex"
							>
								<text class="set-number-col">{{ setIndex + 1 }}</text>
								<view class="set-weight-col">
									<input 
										class="set-input" 
										type="number" 
										v-model="set.weight" 
										@change="calculateVolume"
									/>
								</view>
								<view class="set-reps-col">
									<input 
										class="set-input" 
										type="number" 
										v-model="set.reps" 
										@change="calculateVolume"
									/>
								</view>
								<view class="set-complete-col" @click="toggleSetComplete(exerciseIndex, setIndex)">
									<view class="custom-checkbox">
										<view class="checkbox-inner" v-if="set.completed">
											<text class="checkbox-icon">âœ“</text>
										</view>
									</view>
								</view>
								<view class="set-actions-col">
									<view class="set-actions-btn" @click="showSetMenu(exerciseIndex, setIndex)">
										<text class="icon">â‹¯</text>
									</view>
								</view>
							</view>
							
							<!-- æ·»åŠ ç»„æ•°æŒ‰é’® -->
							<view class="add-set" @click="addSet(exerciseIndex)">
								<text class="add-set-text">+ æ·»åŠ ç»„æ•°</text>
							</view>
						</view>
						
						<!-- å¤‡æ³¨ä¿¡æ¯ -->
						<view class="exercise-notes" v-if="exercise.notes">
							<text class="notes-text">{{ exercise.notes }}</text>
						</view>
					</view>
				</view>
			</cell>
			
			<!-- æ·»åŠ åŠ¨ä½œæŒ‰é’® -->
			<cell>
				<view class="add-exercise" @click="showAddExerciseModal">
					<text class="add-exercise-text">+ æ·»åŠ åŠ¨ä½œ</text>
				</view>
			</cell>
		</list>
		
		<!-- åº•éƒ¨å¯¼èˆª -->
		<view class="bottom-nav">
			<view class="bottom-nav-btn" @click="minimizeSession">
				<text class="bottom-icon">â¬‡ï¸</text>
				<text class="bottom-text">æœ€å°åŒ–</text>
			</view>
			<view class="bottom-nav-btn" @click="showAddExerciseModal">
				<text class="bottom-icon">â•</text>
				<text class="bottom-text">æ·»åŠ åŠ¨ä½œ</text>
			</view>
			<view class="bottom-nav-btn delete" @click="showDeleteConfirm">
				<text class="bottom-icon">ğŸ—‘ï¸</text>
				<text class="bottom-text">åˆ é™¤è®­ç»ƒ</text>
			</view>
			<view class="bottom-nav-btn save" @click="saveAndExit">
				<text class="bottom-icon">ğŸ’¾</text>
				<text class="bottom-text">ä¿å­˜è¿”å›</text>
			</view>
		</view>
	</view>
</template>

<script>
	export default {
		data() {
			return {
				// è®­ç»ƒä¼šè¯æ•°æ®
				trainingData: {
					id: null,
					title: "70% è…¿è®­",
					startTime: Date.now(),
					totalTime: 0,
					exercises: [
						{
							id: 1,
							name: "æ·±è¹²",
							collapsed: false,
							weightUnit: 'kg',
							notes: "ä¿æŒè„šå°–å¾®å¾®æœå¤–ï¼Œæ¯ç»„ä¹‹é—´ä¼‘æ¯90ç§’",
							sets: [
								{ weight: 50, reps: 10, completed: true },
								{ weight: 55, reps: 8, completed: true },
								{ weight: 60, reps: 6, completed: false }
							]
						},
						{
							id: 2,
							name: "è…¿ä¸¾",
							collapsed: false,
							weightUnit: 'kg',
							notes: "æ³¨æ„è„šçš„ä½ç½®ï¼Œä¸è¦é”è†",
							sets: [
								{ weight: 100, reps: 12, completed: true },
								{ weight: 110, reps: 10, completed: true },
								{ weight: 120, reps: 8, completed: false }
							]
						},
						{
							id: 3,
							name: "è…¿å¼¯ä¸¾",
							collapsed: false,
							weightUnit: 'kg',
							notes: "",
							sets: [
								{ weight: 40, reps: 12, completed: true },
								{ weight: 45, reps: 10, completed: true },
								{ weight: 50, reps: 8, completed: false },
								{ weight: 55, reps: 8, completed: false }
							]
						}
					]
				},
				// æ€»é‡é‡
				totalVolume: 0,
				// æ˜¯å¦æ˜¾ç¤ºç»„æ•°èœå•
				activeSetMenu: {
					exerciseIndex: -1,
					setIndex: -1
				}
			}
		},
		
		computed: {
			// è®¡ç®—å·²å®Œæˆç»„æ•°
			completedSets() {
				let count = 0;
				this.trainingData.exercises.forEach(exercise => {
					exercise.sets.forEach(set => {
						if (set.completed) count++;
					});
				});
				return count;
			},
			
			// è®¡ç®—æ€»ç»„æ•°
			totalSets() {
				let count = 0;
				this.trainingData.exercises.forEach(exercise => {
					count += exercise.sets.length;
				});
				return count;
			}
		},
		
		onLoad(options) {
			// å¦‚æœæœ‰ä¼ å…¥è®­ç»ƒIDï¼Œåˆ™åŠ è½½è¯¥è®­ç»ƒ
			if (options.id) {
				this.loadTraining(options.id);
			}
			
			// åˆå§‹è®¡ç®—æ€»é‡é‡
			this.$nextTick(() => {
				this.calculateVolume();
				console.log('åˆå§‹åŒ–è®¡ç®—å®Œæˆï¼š', this.totalVolume, this.completedSets, this.totalSets);
			});
		},
		
		onReady() {
			// é¡µé¢åŠ è½½å®Œæˆåæ‰§è¡Œ
		},
		
		onUnload() {
			// é¡µé¢å¸è½½æ—¶æ‰§è¡Œ
		},
		
		methods: {
			// è®¡ç®—æ€»é‡é‡
			calculateVolume() {
				let volume = 0;
				this.trainingData.exercises.forEach(exercise => {
					exercise.sets.forEach(set => {
						// åªè®¡ç®—å·²å®Œæˆçš„ç»„
						if (set.completed) {
							let weight = parseFloat(set.weight) || 0;
							let reps = parseInt(set.reps) || 0;
							
							// å¦‚æœæ˜¯ç£…ï¼Œè½¬æ¢ä¸ºå…¬æ–¤
							if (exercise.weightUnit === 'lbs') {
								weight = weight * 0.453592;
							}
							
							volume += weight * reps;
						}
					});
				});
				
				// å–æ•´
				this.totalVolume = Math.round(volume);
			},
			
			// åˆ‡æ¢è¿åŠ¨æŠ˜å çŠ¶æ€
			toggleExerciseCollapse(index) {
				this.trainingData.exercises[index].collapsed = !this.trainingData.exercises[index].collapsed;
			},
			
			// åˆ‡æ¢é‡é‡å•ä½
			changeWeightUnit(exerciseIndex, unit) {
				const exercise = this.trainingData.exercises[exerciseIndex];
				
				// å¦‚æœå·²ç»æ˜¯åŒä¸€å•ä½ï¼Œä¸åšæ”¹å˜
				if (exercise.weightUnit === unit) return;
				
				// è½¬æ¢æ¯ç»„çš„é‡é‡
				exercise.sets.forEach(set => {
					let weight = parseFloat(set.weight) || 0;
					
					if (unit === 'kg' && exercise.weightUnit === 'lbs') {
						// ç£…è½¬å…¬æ–¤
						set.weight = Math.round(weight * 0.453592);
					} else if (unit === 'lbs' && exercise.weightUnit === 'kg') {
						// å…¬æ–¤è½¬ç£…
						set.weight = Math.round(weight * 2.20462);
					}
				});
				
				// æ›´æ–°å•ä½
				exercise.weightUnit = unit;
				
				// é‡æ–°è®¡ç®—æ€»é‡é‡
				this.calculateVolume();
			},
			
			// åˆ‡æ¢ç»„å®ŒæˆçŠ¶æ€
			toggleSetComplete(exerciseIndex, setIndex) {
				const set = this.trainingData.exercises[exerciseIndex].sets[setIndex];
				set.completed = !set.completed;
				
				// æ›´æ–°æ€»é‡é‡
				this.$nextTick(() => {
					this.calculateVolume();
				});
			},
			
			// æ·»åŠ æ–°çš„ç»„
			addSet(exerciseIndex) {
				const exercise = this.trainingData.exercises[exerciseIndex];
				const lastSet = exercise.sets[exercise.sets.length - 1];
				
				// å¤åˆ¶ä¸Šä¸€ç»„çš„æ•°æ®ä½œä¸ºé»˜è®¤å€¼
				const newSet = {
					weight: lastSet ? lastSet.weight : 0,
					reps: lastSet ? lastSet.reps : 0,
					completed: false
				};
				
				exercise.sets.push(newSet);
			},
			
			// æ˜¾ç¤ºç»„æ“ä½œèœå•
			showSetMenu(exerciseIndex, setIndex) {
				// å®é™…ä¸­å¯èƒ½éœ€è¦æ˜¾ç¤ºå¼¹çª—æˆ–æ“ä½œèœå•
				uni.showActionSheet({
					itemList: ['å¼€å§‹ä¼‘æ¯è®¡æ—¶', 'å¤åˆ¶æœ¬ç»„', 'åˆ é™¤'],
					success: (res) => {
						const index = res.tapIndex;
						
						switch (index) {
							case 0: // å¼€å§‹ä¼‘æ¯è®¡æ—¶
								uni.showToast({
									title: 'ä¼‘æ¯è®¡æ—¶åŠŸèƒ½å¾…å®ç°',
									icon: 'none'
								});
								break;
							case 1: // å¤åˆ¶æœ¬ç»„
								this.duplicateSet(exerciseIndex, setIndex);
								break;
							case 2: // åˆ é™¤
								this.deleteSet(exerciseIndex, setIndex);
								break;
						}
					}
				});
			},
			
			// å¤åˆ¶ç»„
			duplicateSet(exerciseIndex, setIndex) {
				const exercise = this.trainingData.exercises[exerciseIndex];
				const setToCopy = exercise.sets[setIndex];
				
				// åˆ›å»ºå‰¯æœ¬
				const newSet = {
					weight: setToCopy.weight,
					reps: setToCopy.reps,
					completed: false
				};
				
				// æ’å…¥åˆ°å½“å‰ç»„åé¢
				exercise.sets.splice(setIndex + 1, 0, newSet);
			},
			
			// åˆ é™¤ç»„
			deleteSet(exerciseIndex, setIndex) {
				const exercise = this.trainingData.exercises[exerciseIndex];
				
				// ç¡®ä¿è‡³å°‘æœ‰ä¸€ä¸ªç»„
				if (exercise.sets.length > 1) {
					exercise.sets.splice(setIndex, 1);
					
					// æ›´æ–°æ€»é‡é‡
					this.calculateVolume();
				} else {
					uni.showToast({
						title: 'è‡³å°‘ä¿ç•™ä¸€ä¸ªç»„',
						icon: 'none'
					});
				}
			},
			
			// æ˜¾ç¤ºåŠ¨ä½œå¤‡æ³¨
			showExerciseNotes(exerciseIndex) {
				const exercise = this.trainingData.exercises[exerciseIndex];
				
				// æ˜¾ç¤º/ç¼–è¾‘å¤‡æ³¨çš„å¼¹çª—
				uni.showModal({
					title: 'åŠ¨ä½œå¤‡æ³¨',
					editable: true,
					placeholderText: 'è¾“å…¥å¤‡æ³¨ä¿¡æ¯',
					content: exercise.notes || '',
					success: (res) => {
						if (res.confirm) {
							exercise.notes = res.content;
						}
					}
				});
			},
			
			// æ˜¾ç¤ºåŠ¨ä½œèœå•
			showExerciseMenu(exerciseIndex) {
				uni.showActionSheet({
					itemList: ['è°ƒæ•´é¡ºåº', 'åˆ é™¤åŠ¨ä½œ'],
					success: (res) => {
						const index = res.tapIndex;
						
						switch (index) {
							case 0: // è°ƒæ•´é¡ºåº
								this.showReorderModal();
								break;
							case 1: // åˆ é™¤åŠ¨ä½œ
								this.deleteExercise(exerciseIndex);
								break;
						}
					}
				});
			},
			
			// åˆ é™¤åŠ¨ä½œ
			deleteExercise(exerciseIndex) {
				uni.showModal({
					title: 'ç¡®è®¤åˆ é™¤',
					content: 'ç¡®å®šè¦åˆ é™¤è¿™ä¸ªåŠ¨ä½œå—ï¼Ÿ',
					success: (res) => {
						if (res.confirm) {
							this.trainingData.exercises.splice(exerciseIndex, 1);
							
							// æ›´æ–°æ€»é‡é‡
							this.calculateVolume();
						}
					}
				});
			},
			
			// ç¼–è¾‘è®­ç»ƒåç§°
			editTrainingName() {
				uni.showModal({
					title: 'ç¼–è¾‘è®­ç»ƒåç§°',
					editable: true,
					content: this.trainingData.title,
					success: (res) => {
						if (res.confirm && res.content) {
							this.trainingData.title = res.content;
						}
					}
				});
			},
			
			// æ˜¾ç¤ºæ·»åŠ åŠ¨ä½œæ¨¡æ€æ¡†
			showAddExerciseModal() {
				// å®é™…é¡¹ç›®ä¸­å¯èƒ½éœ€è¦å¯¼èˆªåˆ°é€‰æ‹©åŠ¨ä½œé¡µé¢
				uni.showToast({
					title: 'æ­¤åŠŸèƒ½å°†æ‰“å¼€åŠ¨ä½œé€‰æ‹©é¡µé¢',
					icon: 'none'
				});
			},
			
			// æ˜¾ç¤ºæ’åºæ¨¡æ€æ¡†
			showReorderModal() {
				uni.showToast({
					title: 'æ’åºåŠŸèƒ½å¾…å®ç°',
					icon: 'none'
				});
			},
			
			// æœ€å°åŒ–ä¼šè¯
			minimizeSession() {
				// å¾…å®ç°æœ€å°åŒ–åŠŸèƒ½
				uni.showToast({
					title: 'æœ€å°åŒ–åŠŸèƒ½å¾…å®ç°',
					icon: 'none'
				});
			},
			
			// å®Œæˆè®­ç»ƒ
			completeTraining() {
				// ä¿å­˜è®­ç»ƒè®°å½•
				this.saveTrainingRecord();
				
				// è¿”å›ä¸Šä¸€é¡µ
				uni.navigateBack();
			},
			
			// ä¿å­˜å¹¶é€€å‡º
			saveAndExit() {
				// ä¿å­˜è®­ç»ƒè®°å½•
				this.saveTrainingRecord();
				
				// è¿”å›ä¸Šä¸€é¡µ
				uni.navigateBack();
			},
			
			// ä¿å­˜è®­ç»ƒè®°å½•
			saveTrainingRecord() {
				// åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œè¿™é‡Œåº”è¯¥å°†æ•°æ®ä¿å­˜åˆ°æœ¬åœ°æˆ–å‘é€åˆ°æœåŠ¡å™¨
				uni.showToast({
					title: 'è®­ç»ƒè®°å½•å·²ä¿å­˜',
					icon: 'success'
				});
				
				console.log('ä¿å­˜çš„è®­ç»ƒæ•°æ®:', JSON.stringify(this.trainingData));
			},
			
			// æ˜¾ç¤ºåˆ é™¤ç¡®è®¤
			showDeleteConfirm() {
				uni.showModal({
					title: 'ç¡®è®¤åˆ é™¤',
					content: 'ç¡®å®šè¦åˆ é™¤è¿™æ¬¡è®­ç»ƒè®°å½•å—ï¼Ÿæ‰€æœ‰æ•°æ®å°†ä¸¢å¤±ã€‚',
					success: (res) => {
						if (res.confirm) {
							// åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œè¿™é‡Œåº”è¯¥åˆ é™¤ç›¸å…³æ•°æ®
							uni.navigateBack();
						}
					}
				});
			},
			
			// åŠ è½½è®­ç»ƒæ•°æ®
			loadTraining(id) {
				// å®é™…é¡¹ç›®ä¸­ï¼Œè¿™é‡Œåº”è¯¥ä»æœ¬åœ°æˆ–æœåŠ¡å™¨è·å–è®­ç»ƒæ•°æ®
				console.log('åŠ è½½è®­ç»ƒID:', id);
			}
		}
	}
</script>

<style>
	.container {
		flex: 1;
		background-color: #f5f5f5;
		position: relative;
	}
	
	/* å¤´éƒ¨æ ·å¼ */
	.header {
		flex-direction: row;
		justify-content: space-between;
		padding: 30rpx;
		background-color: #ffffff;
		border-bottom-width: 1px;
		border-bottom-color: #eeeeee;
	}
	
	.header-left {
		flex-direction: column;
		flex: 1;
	}
	
	.timer {
		font-size: 56rpx;
		font-weight: bold;
		margin-bottom: 6rpx;
	}
	
	.training-name {
		flex-direction: row;
		align-items: center;
	}
	
	.training-title {
		font-size: 38rpx;
		font-weight: bold;
		color: #666666;
	}
	
	.training-name-edit {
		margin-left: 16rpx;
		color: #999999;
		font-size: 32rpx;
	}
	
	.header-right {
		flex-direction: column;
		align-items: flex-end;
		justify-content: center;
		padding-left: 20rpx;
	}
	
	.action-button {
		background-color: #0A84FF;
		padding: 16rpx 32rpx;
		border-radius: 12rpx;
		margin-bottom: 12rpx;
		align-items: center;
	}
	
	.action-button-text {
		color: white;
		font-weight: bold;
		font-size: 32rpx;
	}
	
	.stats {
		flex-direction: column;
		align-items: flex-end;
	}
	
	.stats-text {
		font-size: 28rpx;
		color: #666666;
		margin-bottom: 4rpx;
		text-align: right;
	}
	
	.stats-highlight {
		color: #333333;
		font-weight: bold;
	}
	
	/* è¿åŠ¨åˆ—è¡¨ */
	.exercise-list {
		flex: 1;
		padding: 20rpx;
	}
	
	/* è¿åŠ¨å¡ç‰‡ */
	.exercise-card {
		background-color: #ffffff;
		border-radius: 20rpx;
		margin-bottom: 30rpx;
		padding: 24rpx 20rpx;
		box-shadow: 0 4rpx 8rpx rgba(0, 0, 0, 0.05);
	}
	
	/* è¿åŠ¨æ ‡é¢˜ */
	.exercise-header {
		flex-direction: row;
		justify-content: space-between;
		align-items: center;
		margin-bottom: 20rpx;
		padding: 0 10rpx;
	}
	
	.exercise-name-wrapper {
		flex: 1;
	}
	
	.exercise-name {
		font-size: 38rpx;
		font-weight: bold;
	}
	
	/* è¿›åº¦æ˜¾ç¤º */
	.exercise-progress {
		flex-direction: row;
		align-items: center;
		margin-top: 10rpx;
		display: none;
	}
	
	.exercise-card.collapsed .exercise-progress {
		display: flex;
	}
	
	.exercise-sets-count {
		font-size: 28rpx;
		color: #666666;
		margin-right: 16rpx;
	}
	
	.exercise-dots {
		flex-direction: row;
	}
	
	.dot {
		width: 16rpx;
		height: 16rpx;
		border-radius: 8rpx;
		background-color: #dddddd;
		margin-right: 4rpx;
	}
	
	.dot.completed {
		background-color: #0A84FF;
	}
	
	.exercise-actions {
		flex-direction: row;
	}
	
	.icon-button {
		padding: 10rpx;
		margin-left: 20rpx;
		width: 60rpx;
		height: 60rpx;
		align-items: center;
		justify-content: center;
	}
	
	.icon {
		font-size: 36rpx;
		color: #666666;
	}
	
	/* å¯æŠ˜å å†…å®¹ */
	.collapsible-content {
		max-height: 2000rpx;
		overflow: hidden;
		transition-property: max-height;
		transition-duration: 0.3s;
	}
	
	.exercise-card.collapsed .collapsible-content {
		max-height: 0rpx;
	}
	
	/* ç»„åˆ—è¡¨æ ·å¼ */
	.set-list {
		border-top-width: 1px;
		border-top-color: #eeeeee;
		padding-top: 20rpx;
		margin-top: 10rpx;
	}
	
	.set-list-header {
		flex-direction: row;
		justify-content: space-between;
		align-items: center;
		margin-bottom: 16rpx;
		padding: 0 10rpx;
	}
	
	.set-list-title {
		font-weight: bold;
		color: #666666;
		font-size: 30rpx;
	}
	
	.unit-toggle {
		flex-direction: row;
		background-color: #f0f0f0;
		border-radius: 8rpx;
		overflow: hidden;
		height: 50rpx;
	}
	
	.unit-toggle-btn {
		padding: 0;
		width: 80rpx;
		align-items: center;
		justify-content: center;
	}
	
	.unit-toggle-btn.active {
		background-color: #333333;
	}
	
	.unit-text {
		color: #666666;
		font-size: 26rpx;
		font-weight: bold;
		text-align: center;
	}
	
	.active-text {
		color: #ffffff;
	}
	
	/* ç»„è¡Œæ ·å¼ */
	.set-row {
		flex-direction: row;
		padding: 16rpx 0;
		border-bottom-width: 1px;
		border-bottom-color: #f5f5f5;
		align-items: center;
		justify-content: space-between;
	}
	
	.set-header {
		padding-bottom: 10rpx;
	}
	
	.set-header-text {
		color: #999999;
		font-size: 24rpx;
		font-weight: bold;
	}
	
	.set-number-col {
		width: 80rpx;
		color: #666666;
		font-weight: bold;
		text-align: center;
		padding-left: 10rpx;
	}
	
	.set-weight-col, .set-reps-col {
		width: 160rpx;
		padding: 0 20rpx;
	}
	
	.set-input {
		background-color: #ffffff;
		border-width: 1px;
		border-color: #dddddd;
		border-radius: 10rpx;
		padding: 12rpx 8rpx;
		text-align: center;
		height: 76rpx;
		font-size: 34rpx;
		font-weight: bold;
		color: #333333;
	}
	
	.set-complete-col {
		width: 90rpx;
		align-items: center;
		justify-content: center;
		padding: 0 10rpx;
	}
	
	.set-actions-col {
		width: 90rpx;
		align-items: center;
		justify-content: center;
		padding-right: 10rpx;
	}
	
	.set-actions-btn {
		padding: 12rpx;
		width: 80rpx;
		height: 80rpx;
		align-items: center;
		justify-content: center;
		background-color: rgba(0,0,0,0.03);
		border-radius: 8rpx;
	}
	
	/* æ·»åŠ ç»„æŒ‰é’® */
	.add-set {
		padding: 20rpx;
		background-color: #f9f9f9;
		border-width: 1px;
		border-style: dashed;
		border-color: #dddddd;
		border-radius: 12rpx;
		margin-top: 20rpx;
		align-items: center;
	}
	
	.add-set-text {
		color: #666666;
		font-size: 28rpx;
	}
	
	/* å¤‡æ³¨ */
	.exercise-notes {
		margin-top: 20rpx;
		padding: 20rpx;
		background-color: #f9f9f9;
		border-radius: 12rpx;
	}
	
	.notes-text {
		font-size: 28rpx;
		color: #666666;
	}
	
	/* æ·»åŠ åŠ¨ä½œæŒ‰é’® */
	.add-exercise {
		padding: 30rpx;
		background-color: #ffffff;
		border-radius: 20rpx;
		align-items: center;
		margin-bottom: 160rpx; /* ä¸ºåº•éƒ¨å¯¼èˆªç•™å‡ºè¶³å¤Ÿç©ºé—´ */
	}
	
	.add-exercise-text {
		color: #0A84FF;
		font-size: 32rpx;
		font-weight: bold;
	}
	
	/* åº•éƒ¨å¯¼èˆª */
	.bottom-nav {
		position: fixed;
		bottom: 0;
		left: 0;
		right: 0;
		flex-direction: row;
		background-color: #ffffff;
		box-shadow: 0 -2rpx 10rpx rgba(0, 0, 0, 0.1);
		z-index: 100;
		height: 130rpx;
		padding-bottom: env(safe-area-inset-bottom);
	}
	
	.bottom-nav-btn {
		flex: 1;
		padding: 20rpx 0;
		align-items: center;
		justify-content: center;
	}
	
	.bottom-icon {
		font-size: 44rpx;
		margin-bottom: 6rpx;
	}
	
	.bottom-text {
		font-size: 24rpx;
		color: #666666;
	}
	
	.bottom-nav-btn.save {
		background-color: #0A84FF;
	}
	
	.bottom-nav-btn.save .bottom-icon {
		color: #ffffff;
	}
	
	.bottom-nav-btn.save .bottom-text {
		color: #ffffff;
	}
	
	.bottom-nav-btn.delete .bottom-text {
		color: #FF3B30;
	}
	
	.bottom-nav-btn.delete .bottom-icon {
		color: #FF3B30;
	}
	
	/* è‡ªå®šä¹‰å¤é€‰æ¡† */
	.custom-checkbox {
		width: 50rpx;
		height: 50rpx;
		border-radius: 8rpx;
		border-width: 2rpx;
		border-color: #dddddd;
		align-items: center;
		justify-content: center;
		background-color: #ffffff;
	}
	
	.checkbox-inner {
		width: 50rpx;
		height: 50rpx;
		border-radius: 6rpx;
		background-color: #0A84FF;
		align-items: center;
		justify-content: center;
	}
	
	.checkbox-icon {
		color: #ffffff;
		font-size: 32rpx;
		font-weight: bold;
	}
	
	/* æ“ä½œæŒ‰é’®æ ·å¼ */
	.icon {
		font-size: 40rpx;
		color: #666666;
	}
	
	.set-actions-btn {
		padding: 12rpx;
		width: 80rpx;
		height: 80rpx;
		align-items: center;
		justify-content: center;
		background-color: rgba(0,0,0,0.03);
		border-radius: 8rpx;
	}
</style> 